SYNC PROJECTS : STM32CubeMX <> PlatformIO (VSCode)

This script is meant to synchronise STM32CubeMX IDE project folder with PlatformIO (VSCode) project folder.

myStmProject			# root project folder, where the sync scripts are located
--myStmProject-cube		# STM32CubeMX project folder
--myStmProject-pio 		# PlatformIO (VSCode) project folder

USAGE:
1. From STM32CubeMX IDE, configure project, IO's, etc. and generate source code.
Notes: project must be configured as followed:
* Project Manager > Project > Toolchain / IDE = Other toolchains
* Project Manager > Code Generator > Copy only the necessary library files = TRUE.
* Project Manager > Code Generator > Keep user code when regenerating = TRUE.

2. From PlatformIO (VSCode) IDE, create a new project for the same UC.

3. In file sync_cube_to_pio.conf:
* List all folders that must be sync (recursively) from CUBE to PIO (only some file extensions will be sync: .h, .c, etc.).
* List all files that myst be sync from CUBE to PIO.
* Syntax for each line (folder): source_folder:target_folder
* Syntax for each line (files): source_file:target_file
* Example of file:
stm32l152-discovery-cubemx/Core:stm32l152-discovery-pio/src
...

3. From root project folder, execute "./sync_cube_to_pio.sh". This will copy files from CUBE project to PIO project (and generate automatic file _private_sync_pio_to_cube.conf that will be used later for reverse sync, do not edit this file).

4. Work on the project from PlatformIO (VSCode). Always place your code between tags: /* USER CODE BEGIN */ and /* USER CODE END */.

5. If later you want to update CUBE project v(IO's, etc.):
	5.1 From root project folder, execute "./sync_pio_to_cube.sh". This will copy files from PIO project to CUBE project.
	5.2 From STM32CubeMX IDE, update project and generate source code again. Code placed within the correct tags (/* USER CODE BEGIN */ ... /* USER CODE END */) won't be deleted by STM32CubeMX IDE.
	5.3 From root project folder, execute "./sync_cube_to_pio.sh". This will copy files from CUBE project to PIO project.

6. Go back to work on the project from PlatformIO (VSCode).

NOTES:
* The following repo already contains a basic example.
* Do not edit _private_sync_pio_to_cube.conf : it is generated manually by sync_cube_to_pio.sh and used as input by sync_pio_to_cube.sh.
* Do not execute directly _private_sync.sh.
* Regex for files extensions (.c, .h, etc.) to sync from the sync_cube_to_pio.conf folders can be edited (if needed) in _private_sync.sh.
